function openModal(a){a?.classList?.remove("modal-closed")}function closeModal(a){a?.classList?.add("modal-closed")}function addOpenModalListener(a,b,c=!0,d=!1){a?.addEventListener("click",a=>{c&&a.preventDefault(),d&&b?.classList?.add("animate-modal"),openModal(b)})}function addCloseModalListener(a,b,c=!0){a?.addEventListener("click",a=>{c&&a.preventDefault(),closeModal(b)})}function addBuyProductListener(a,b){a?.addEventListener("click",a=>{a.target.classList.contains("product-buy-button")&&openModal(b)})}const cartModal=document.querySelector(".modal-cart"),makeOrderLink=cartModal?.querySelector(".make-order-link");cartModal?.addEventListener("click",({target:a})=>{(a.classList.contains("modal-close-button")||a.classList.contains("continue-shopping-button"))&&closeModal(cartModal)}),addCloseModalListener(makeOrderLink,cartModal,!1);const contactCompanyButton=document.querySelector(".company-contact-modal-button"),contactCompanyModal=document.querySelector(".modal-contact-company"),contactCompanyForm=contactCompanyModal?.querySelector(".contact-company-form"),nameField=contactCompanyForm?.querySelector("[name=\"name\"]"),emailField=contactCompanyForm?.querySelector("[name=\"email\"]"),textField=contactCompanyForm?.querySelector("[name=\"email-text\"]"),closeContactCompanyButton=contactCompanyModal?.querySelector(".modal-close-button"),companyMapLink=document.querySelector(".company-contacts-map"),companyMapModal=document.querySelector(".modal-map"),closeCompanyMapButton=companyMapModal?.querySelector(".modal-close-button"),popularProductsList=document.querySelector(".popular-products-list");addOpenModalListener(contactCompanyButton,contactCompanyModal,!0,!0),addCloseModalListener(closeContactCompanyButton,contactCompanyModal),addOpenModalListener(companyMapLink,companyMapModal),addCloseModalListener(closeCompanyMapButton,companyMapModal),addBuyProductListener(popularProductsList,cartModal);const emailRegExp=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;contactCompanyForm?.addEventListener("submit",()=>{nameField?.value&&localStorage.setItem("name",nameField.value),emailField?.value&&emailRegExp.test(emailField?.value)&&localStorage.setItem("email",emailField?.value),closeModal(contactCompanyModal)}),contactCompanyButton?.addEventListener("click",()=>{const a=localStorage.getItem("name"),b=localStorage.getItem("email");a||b?(a&&nameField&&(nameField.value=a,emailField?.focus()),b&&emailField&&(emailField.value=b,textField?.focus())):nameField?.focus(),textField&&(textField.value="")});const catalogProductsList=document.querySelector(".catalog-products-list");addBuyProductListener(catalogProductsList,cartModal);